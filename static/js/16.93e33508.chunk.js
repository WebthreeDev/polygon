(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[16],{998:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return An}));var c,r,i,a,s,o,j,l,b,d,u,x,O,h,m,p,g,f,y,v,w,k,S,T,z,N,L,D,C,R,I,M,B,E,F,A,K,W,P,Q,V,U,q,H,J,Y,Z,G,$,_,X,ee,te=n(2),ne=n.n(te),ce=n(15),re=n(39),ie=n(72),ae=n(0),se=n.n(ae),oe=n(7),je=n(32),le=se.a.createContext({mostRecentLotteryNumber:0,historyError:!1,historyData:[]}),be=n(702),de=n(672),ue=n(670),xe=n(220),Oe=n(674),he=n(11),me=n(82),pe=n(677),ge=n(218),fe=n(718),ye=n(26),ve=n(17),we=n(228),ke=n(219),Se=function(){var e=Object(ce.a)(ne.a.mark((function e(t){var n,c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[{address:Object(ve.e)(),name:"historyAmount",params:[t,0]},{address:Object(ve.e)(),name:"historyAmount",params:[t,1]},{address:Object(ve.e)(),name:"historyAmount",params:[t,2]},{address:Object(ve.e)(),name:"historyAmount",params:[t,3]},{address:Object(ve.e)(),name:"historyNumbers",params:[t,0]},{address:Object(ve.e)(),name:"historyNumbers",params:[t,1]},{address:Object(ve.e)(),name:"historyNumbers",params:[t,2]},{address:Object(ve.e)(),name:"historyNumbers",params:[t,3]},{address:Object(ve.e)(),name:"historyTimestamp",params:[t]}],e.next=4,Object(ye.a)(we,n);case 4:return c=e.sent,e.abrupt("return",{lotteryNumber:t,lotteryDate:(1e3*c[8]).toString(),lotteryNumbers:[c[4][0],c[5][0],c[6][0],c[7][0]],poolSize:Math.round(parseFloat(ke.a.utils.formatEther(c[0].toString()))),burned:0,contractLink:"",jackpotTicket:0,match2Ticket:Math.floor(parseFloat(ke.a.utils.formatEther(c[3].toString()))),match3Ticket:Math.floor(parseFloat(ke.a.utils.formatEther(c[2].toString()))),match4Ticket:Math.floor(parseFloat(ke.a.utils.formatEther(c[1].toString()))),poolJackpot:0,poolMatch3:0,poolMatch2:0,poolMatch1:null,error:""});case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(ae.useState)(!0),t=Object(re.a)(e,2),n=t[0],c=t[1],r=Object(ae.useState)(null),i=Object(re.a)(r,2),a=i[0],s=i[1],o=Object(ae.useState)(null),j=Object(re.a)(o,2),l=j[0],b=j[1],d=Object(ae.useContext)(le).mostRecentLotteryNumber;return Object(ae.useEffect)((function(){d>0&&function(){var e=Object(ce.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,Se(d);case 4:t=e.sent,s(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b(e.t0);case 11:return e.prev=11,c(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}()()}),[d,s,c,b]),{isLoading:n,data:a,mostRecentLotteryNumber:d,error:l}},ze=n(13),Ne=oe.e.div(c||(c=Object(ie.a)(["\n  border: 8px solid #f3f3f3;\n  border-radius: 50%;\n  border-top: 8px solid #ddd;\n  border-bottom: 8px solid #ddd;\n  width: 20px;\n  height: 20px;\n  -webkit-animation: spin 2s linear infinite;\n  animation: spin 2s linear infinite;\n  @-webkit-keyframes spin {\n    0% {\n      -webkit-transform: rotate(0deg);\n    }\n    100% {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]))),Le=function(){return Object(ze.jsx)(Ne,{})},De=oe.e.div(r||(r=Object(ie.a)(["\n  color: #ff8c28;\n"]))),Ce=oe.e.div(i||(i=Object(ie.a)(["\n  text-align: center;\n  overflow-y: auto;\n  max-height: 400px;\n  color: ",";\n"])),(function(e){return e.theme.colors.primary})),Re=Object(oe.e)(je.j)(a||(a=Object(ie.a)(["\n  margin-top: ","px;\n"])),(function(e){return e.theme.spacing[2]})),Ie=function(e){var t=e.myTicketNumbers,n=e.onDismiss,c=e.from,r=Object(pe.e)(),i=Object(de.a)(),a=Object(ae.useCallback)((function(e){for(var t=0,n=r.length-1;n>=0;n--)r[n]==e[n]&&t++;return t}),[r]),s=t.map((function(e,t){if(a(e[0])>1&&"buy"!==c){var n=new Array(a(e[0])+1).join("\ud83e\udd11");return Object(ze.jsxs)(De,{children:[n,e.toString(),n]},t)}return Object(ze.jsx)("p",{children:e.toString()},t)}));return Object(ze.jsxs)(je.J,{title:i(490,"My Tickets (Total: ".concat(t.length,")"),{TICKETS:t.length}),onDismiss:n,children:[Object(ze.jsx)(Ce,{children:Object(ze.jsx)("h2",{children:s})}),Object(ze.jsx)(Re,{variant:"secondary",onClick:n,children:i(438,"Close")})]})},Me=oe.e.div(s||(s=Object(ie.a)(["\n  display: flex;\n  align-items: baseline;\n"]))),Be=oe.e.div(o||(o=Object(ie.a)(["\n  margin-bottom: 16px;\n\n  svg {\n    width: 80px;\n    height: 80px;\n  }\n"]))),Ee=oe.e.div(j||(j=Object(ie.a)(["\n"]))),Fe=oe.e.div(l||(l=Object(ie.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 60px;\n"]))),Ae=Object(oe.e)(je.j)(b||(b=Object(ie.a)(["\n  margin-top: ","px;\n"])),(function(e){return e.theme.spacing[1]})),Ke=function(e){var t=e.onSuccess,n=Object(ae.useState)(!1),c=Object(re.a)(n,2),r=c[0],i=c[1],a=Object(de.a)(),s=Object(pe.c)(),o=s.claimLoading,j=s.claimAmount,l=Object(fe.c)().onMultiClaim,b=Te(),d=Object(pe.a)(b.mostRecentLotteryNumber),u=Object(je.bb)(Object(ze.jsx)(Ie,{myTicketNumbers:d,from:"buy"})),x=Object(re.a)(u,1)[0],O=Object(ae.useCallback)(Object(ce.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l();case 3:e.sent&&(t(),i(!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[l,i,t]),h=Object(ge.c)(j).toFixed(2);return Object(ze.jsxs)(Fe,{children:[Object(ze.jsx)(Be,{style:{position:"absolute",left:"45px",top:"15px"},children:Object(ze.jsx)(je.W,{})}),Object(ze.jsx)(je.z,{as:"h3",size:"lg",color:"secondary",children:a(660,"You won!")}),o&&Object(ze.jsx)(Le,{}),!o&&Object(ze.jsx)(ze.Fragment,{children:Object(ze.jsxs)(Me,{children:[Object(ze.jsx)(je.z,{as:"h4",size:"xl",style:{marginRight:"6px"},children:h}),Object(ze.jsx)(je.z,{as:"h4",size:"lg",children:"OBERON"})]})}),Object(ze.jsx)(Ee,{children:Object(ze.jsx)(je.j,{width:"100%",isLoading:r,endIcon:r?Object(ze.jsx)(je.d,{spin:!0,color:"currentColor"}):null,disabled:r,onClick:O,style:{position:"absolute",width:"100px",right:"20px",top:"30px"},children:a(1056,"Collect")})}),Object(ze.jsx)(Ae,{variant:"text",onClick:x,children:a(432,"View your tickets")})]})},We=oe.e.div(d||(d=Object(ie.a)(["\n  display: flex;\n  height: 60px;\n"]))),Pe=oe.e.div(u||(u=Object(ie.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Qe=Object(oe.e)(je.R)(x||(x=Object(ie.a)(["\n  padding-top: 6px;\n"]))),Ve=oe.e.img(O||(O=Object(ie.a)(["\n  margin-right: 6px;\n\n  "," {\n    margin-right: 20px;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),Ue=Object(oe.e)(je.j)(h||(h=Object(ie.a)(["\n  padding: 0;\n  height: unset;\n  margin-left: -4px;\n"]))),qe=function(){var e=Object(de.a)(),t=Object(pe.a)(),n=Object(je.bb)(Object(ze.jsx)(Ie,{myTicketNumbers:t,from:"buy"})),c=Object(re.a)(n,1)[0];return Object(ze.jsxs)(We,{children:[Object(ze.jsx)(Ve,{src:"/images/no-prize.svg",alt:"no prizes won"}),Object(ze.jsxs)(Pe,{children:[Object(ze.jsx)(Qe,{color:"text",children:e(726,"No prizes to collect")}),Object(ze.jsx)(Ue,{variant:"text",onClick:c,children:e(432,"View your tickets")})]})]})},He=Object(oe.e)(je.n)(m||(m=Object(ie.a)(["\n  ","\n"])),(function(e){return e.isDisabled?"\n        margin-top: 24px;\n        height: 105px;\n        background-color: ".concat(e.theme.card.background,";\n        box-shadow: unset;\n        @media only screen and (min-width: 1163px) {\n            margin-top: 32px;\n            height: 116px;\n        }\n        "):""})),Je=function(e){var t=e.isAWin,n=e.onSuccess;return Object(ze.jsx)(He,{isDisabled:!t,isActive:t,children:Object(ze.jsx)(je.o,{children:t?Object(ze.jsx)(Ke,{onSuccess:n}):Object(ze.jsx)(qe,{})})})},Ye=n(673),Ze=Object(oe.e)(je.o)(p||(p=Object(ie.a)(['\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 347px;\n  padding-right: 200px;\n    &::before {\n        content: "";\n        background: url(/images/lottery-ticket.png);\n        background-size: 100px 217px;\n        width: 100px;\n        height: 217px;\n        transform: rotate(-10deg);\n        position: absolute;\n        top: 65px;\n        right: 70px;\n        opacity: .8;\n    }\n    @media (max-width: 576px) {\n        padding-right: 0;\n        &::before {\n            display: none;\n        }\n    }\n']))),Ge=Object(oe.e)(je.z)(g||(g=Object(ie.a)(["\n  margin: 16px 0;\n  height: 80px;\n"]))),$e=oe.e.div(f||(f=Object(ie.a)(["\n  svg {\n    width: 80px;\n    height: 80px;\n    margin-top: 60px;\n  }\n"]))),_e=oe.e.div(y||(y=Object(ie.a)(["\n    background: url(/images/lottery-ticket.png);\n    background-size: 100px 217px;\n    width: 100px;\n    height: 217px;\n    transform: rotate(20deg);\n    position: absolute;\n    top: 60px;\n    right: 50px;\n    box-shadow: 5px 5px 10px ",";\n    @media (max-width: 576px) {\n        display: none;\n    }\n"])),(function(e){return e.theme.isDark?"#222":"#888"})),Xe=function(){var e=Object(de.a)();return Object(ze.jsx)(je.n,{isActive:!0,children:Object(ze.jsxs)(Ze,{children:[Object(ze.jsx)($e,{children:Object(ze.jsx)(_e,{})}),Object(ze.jsx)(Ge,{size:"md",children:e(1080,"Unlock wallet to access lottery")}),Object(ze.jsx)(Ye.a,{})]})})},et=n(701),tt=function(){var e=Object(ae.useState)((new Date).getTime()),t=Object(re.a)(e,2),n=t[0],c=t[1];return Object(ae.useEffect)((function(){var e=setInterval((function(){c((function(e){return e+1e3}))}),1e3);return function(){return clearInterval(e)}}),[]),n},nt=n(681),ct=n(686),rt=n(748),it=n(792),at=n(749),st=oe.e.div(v||(v=Object(ie.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ","px;\n\n  "," {\n    justify-content: space-between;\n  }\n"])),(function(e){return e.theme.spacing[3]}),(function(e){return e.theme.mediaQueries.lg})),ot=function(){var e=Object(de.a)(),t=Object(nt.b)(),n=Object(et.a)(),c=Object(ct.a)(Object(ve.c)()),r=Object(pe.a)(),i=r.length,a=Object(je.bb)(Object(ze.jsx)(Ie,{myTicketNumbers:r,from:"buy"})),s=Object(re.a)(a,1)[0],o=Object(je.bb)(Object(ze.jsx)(at.a,{})),j=Object(re.a)(o,1)[0],l=Object(je.bb)(Object(ze.jsx)(it.a,{max:c})),b=Object(re.a)(l,1)[0],d=Object(rt.a)(j),u=d.handleApprove,x=d.requestedApproval;return Object(ze.jsx)(st,{children:n?Object(ze.jsxs)(je.j,{disabled:!0,children:[" ",e(874,"On sale soon")]}):t.toNumber()?Object(ze.jsxs)(ze.Fragment,{children:[Object(ze.jsx)(je.j,{style:{marginRight:"8px"},width:"100%",disabled:0===i,variant:"secondary",onClick:s,children:e(432,"View your tickets")}),Object(ze.jsx)(je.j,{id:"lottery-buy-start",width:"100%",onClick:b,children:e(430,"Buy ticket")})]}):Object(ze.jsxs)(ze.Fragment,{children:[Object(ze.jsx)(je.j,{width:"100%",disabled:!0,children:e(432,"View your tickets")}),Object(ze.jsx)(je.j,{isLoading:x,endIcon:x?Object(ze.jsx)(je.d,{spin:!0,color:"currentColor"}):null,disabled:x,onClick:u,width:"100%",children:"Approve Contract"})]})})},jt=3600,lt=86400,bt=2629800,dt=31557600,ut=function(e){var t=Math.abs(e),n={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return t>=dt&&(n.years=Math.floor(t/dt),t-=n.years*dt),t>=bt&&(n.months=Math.floor(t/bt),t-=n.months*bt),t>=lt&&(n.days=Math.floor(t/lt),t-=n.days*lt),t>=jt&&(n.hours=Math.floor(t/jt),t-=n.hours*jt),t>=60&&(n.minutes=Math.floor(t/60),t-=60*n.minutes),n.seconds=t,n},xt=function(e,t){return"".concat(parseInt(e),"h, ").concat(parseInt(t),"m")},Ot=function(e){var t=function(e){return 36e5*(parseInt(e/36e5)+1)}(e)-e,n=ut(t/1e3).minutes,c=ut(t/1e3).hours;return xt(c,n)},ht=oe.e.div(w||(w=Object(ie.a)(["\n  max-width: 500px;\n  margin: 0 auto 40px;\n  display: flex;\n  flex-direction: column;\n"]))),mt=function(){return Object(ze.jsx)(ht,{children:Object(ze.jsx)(je.R,{fontSize:"15px",style:{lineHeight:1.2},children:"Spend OBERON to buy tickets, contributing to the lottery pot. Win prizes if 2, 3, or 4 of your ticket numbers match the winning numbers and their exact order!"})})},pt=Object(oe.e)(je.n)(k||(k=Object(ie.a)(["\n  ","\n"])),(function(e){return e.isSecondCard?"\n        margin-top: 16px;\n\n        ".concat(e.theme.mediaQueries.sm," {\n          margin-top: 24px;\n        }\n\n        ").concat(e.theme.mediaQueries.lg," {\n          margin-top: 32px;\n        }\n        "):""})),gt=oe.e.div(S||(S=Object(ie.a)(["\n  align-items: center;\n  display: flex;\n"]))),ft=oe.e.div(T||(T=Object(ie.a)(["\n  margin-right: 16px;\n  svg {\n    width: 48px;\n    height: 48px;\n  }\n"]))),yt=oe.e.div(z||(z=Object(ie.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),vt=function(e){var t=e.isSecondCard,n=void 0!==t&&t,c=Object(de.a)(),r=Object(et.a)(),i=Object(pe.a)().length,a=tt(),s=r&&Ot(a),o=+new Date("2021-09-19T12:00:00Z"),j=+new Date,l=(new Date).toISOString().replace(/.[0-9]+Z/,"").split("T")[1].match(/^([0-9]{2}):([0-9]{2}):([0-9]{2})$/).map((function(e){return parseInt(e)})),b=0,d=((b=l[1]<8?8:l[1]<16?16:24)-l[1]<10?"0":"").concat((b-l[1]-1).toString()),u=(60-l[2]<10?"0":"").concat((59-l[2]).toString()),x=(60-l[3]<10?"0":"").concat((59-l[3]).toString());return Object(ze.jsx)(pt,{isSecondCard:n,children:Object(ze.jsxs)(je.o,{children:[Object(ze.jsx)(mt,{}),Object(ze.jsxs)(gt,{style:{position:"relative",marginTop:"-20px"},children:[Object(ze.jsx)(ft,{children:Object(ze.jsx)("img",{src:"/images/lottery-ticket-mini.png",width:"48",height:"48",alt:"Lottery Ticket"})}),r?Object(ze.jsxs)(yt,{children:[Object(ze.jsx)(je.R,{fontSize:"14px",color:"textSubtle",children:c(870,"Until ticket sale:")}),Object(ze.jsx)(je.z,{size:"lg",children:s})]}):Object(ze.jsxs)(yt,{style:{width:"50%"},children:[Object(ze.jsx)(je.R,{fontSize:"14px",color:"textSubtle",style:{lineHeight:1},children:c(724,"Your tickets for this round")}),Object(ze.jsx)(je.z,{size:"lg",children:i})]}),Object(ze.jsxs)(yt,{children:[j>=o&&Object(ze.jsxs)(ze.Fragment,{children:[Object(ze.jsx)(je.R,{fontSize:"14px",color:"textSubtle",style:{lineHeight:1},children:"Time until next draw"}),Object(ze.jsx)(je.z,{size:"lg",children:d.concat(":").concat(u).concat(":").concat(x)})]}),j<o&&Object(ze.jsxs)(ze.Fragment,{children:[Object(ze.jsx)(je.R,{fontSize:"14px",color:"textSubtle",style:{marginTop:"-8px"},children:"Lottery draw"}),"When Pot value reaches 1,000 USD worth of OBERON"]})]})]}),Object(ze.jsx)(ot,{})]})})},wt=n(720),kt=n(10),St=n(85),Tt=n(675),zt=oe.e.div(N||(N=Object(ie.a)(["\n  display: grid;\n  grid-template-columns: repeat(",", 1fr);\n  grid-template-rows: repeat(4, auto);\n"])),(function(e){return e.pastDraw?3:2})),Nt=Object(oe.e)(je.R)(L||(L=Object(ie.a)(["\n  text-align: right;\n"]))),Lt=Object(oe.e)(je.z)(D||(D=Object(ie.a)(["\n  text-align: right;\n"]))),Dt=oe.e.div(C||(C=Object(ie.a)(["\n  margin-bottom: ",";\n"])),(function(e){return e.marginBottom?e.marginBottom:"10px"})),Ct=Object(oe.e)(Dt)(R||(R=Object(ie.a)(["\n  transform: translate(-40%, 0%);\n"]))),Rt=function(e){var t=e.lotteryPrizeAmount,n=void 0===t?0:t,c=e.pastDraw,r=void 0!==c&&c,i=e.jackpotMatches,a=e.twoTicketMatches,s=e.threeTicketMatches,o=+(n/100*40).toFixed(0),j=+(n/100*25).toFixed(0),l=+(n/100*15).toFixed(0),b=+(n/100*20).toFixed(0),d=Object(de.a)(),u=Object(St.g)();0===a&&(b+=l),0===s&&(b+=j),0===i&&(b+=o);var x=function(e){return new kt.BigNumber(e).multipliedBy(u).toNumber()};return Object(ze.jsxs)(zt,{pastDraw:r,children:[Object(ze.jsx)(Dt,{children:Object(ze.jsx)(je.R,{fontSize:"14px",color:"textSubtle",children:d(756,"No. Matched")})}),r&&Object(ze.jsx)(Ct,{children:Object(ze.jsx)(Nt,{fontSize:"14px",color:"textSubtle",children:d(754,"Winners")})}),Object(ze.jsx)(Dt,{children:Object(ze.jsx)(Nt,{fontSize:"14px",color:"textSubtle",children:d(752,"Prize Pot")})}),Object(ze.jsx)(Dt,{children:Object(ze.jsx)(je.z,{size:"md",children:"4"})}),r&&Object(ze.jsx)(Ct,{children:Object(ze.jsx)(Lt,{size:"md",children:i})}),Object(ze.jsx)(Dt,{children:Object(ze.jsxs)(Lt,{size:"md",children:[o.toLocaleString(),!r&&!u.eq(0)&&Object(ze.jsx)(Tt.a,{value:x(o)},x(l))]})}),Object(ze.jsx)(Dt,{children:Object(ze.jsx)(je.R,{bold:!0,children:"3"})}),r&&Object(ze.jsx)(Ct,{children:Object(ze.jsx)(Nt,{bold:!0,children:s})}),Object(ze.jsx)(Dt,{children:Object(ze.jsxs)(Nt,{children:[j.toLocaleString(),!r&&!u.eq(0)&&Object(ze.jsx)(Tt.a,{value:x(j)},x(l))]})}),Object(ze.jsx)(Dt,{children:Object(ze.jsx)(je.R,{children:"2"})}),r&&Object(ze.jsx)(Ct,{children:Object(ze.jsx)(Nt,{children:a})}),Object(ze.jsx)(Dt,{children:Object(ze.jsxs)(Nt,{children:[l.toLocaleString(),!r&&!u.eq(0)&&Object(ze.jsx)(Tt.a,{value:x(l)},x(l))]})}),Object(ze.jsx)(Dt,{marginBottom:"0",children:Object(ze.jsxs)(je.R,{children:[d(999,"".concat(r?"Burned":"To burn")),":"]})}),r?Object(ze.jsxs)(ze.Fragment,{children:[Object(ze.jsx)(Dt,{marginBottom:"0"}),Object(ze.jsx)(Dt,{marginBottom:"0",children:Object(ze.jsx)(Nt,{children:b.toLocaleString()})})]}):Object(ze.jsx)(Dt,{marginBottom:"0",children:Object(ze.jsx)(Nt,{children:b.toLocaleString()})})]})},It=oe.e.div(I||(I=Object(ie.a)(["\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n"]))),Mt=oe.e.div(M||(M=Object(ie.a)(["\n  display: flex;\n\n  "," {\n    display: none;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Bt=oe.e.div(B||(B=Object(ie.a)(["\n  display: flex;\n"]))),Et=oe.e.div(E||(E=Object(ie.a)(["\n  margin-right: 16px;\n  svg {\n    width: 48px;\n    height: 48px;\n  }\n"]))),Ft=oe.e.div(F||(F=Object(ie.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),At=oe.e.div(A||(A=Object(ie.a)(["\n  height: ",";\n\n  "," {\n    height: 100%;\n  }\n"])),(function(e){return e.showFooter?"100%":"0px"}),(function(e){return e.theme.mediaQueries.sm})),Kt=function(){var e=Object(de.a)(),t=Object(me.c)().account,n=Object(ae.useState)(!1),c=Object(re.a)(n,2),r=c[0],i=c[1],a=+Object(ge.c)(Object(pe.d)()).toFixed(0),s=new kt.BigNumber(a).multipliedBy(Object(St.g)()).toNumber(),o=a.toLocaleString(),j=Object(ae.useContext)(le).currentLotteryNumber;return Object(ze.jsxs)(je.n,{children:[Object(ze.jsxs)(je.o,{children:[t&&Object(ze.jsx)(je.y,{mb:"16px",alignItems:"center",justifyContent:"space-between",style:{height:"20px"},children:Object(ze.jsx)(je.R,{fontSize:"12px",style:{fontWeight:600},children:j>0?e(720,"Round #".concat(j),{num:j}):"Lottery not yet started"})}),Object(ze.jsxs)(It,{children:[Object(ze.jsxs)(Bt,{children:[Object(ze.jsx)(Et,{children:Object(ze.jsx)("img",{src:"/images/OBERON-moon.png",width:"48",alt:"OBERON Token"})}),Object(ze.jsxs)(Ft,{children:[Object(ze.jsx)(je.R,{fontSize:"14px",color:"textSubtle",children:e(722,"Total Pot:")}),Object(ze.jsxs)(je.z,{size:"lg",children:[o," OBERON"]}),0!==s&&Object(ze.jsx)(Tt.a,{value:s},s)]})]}),Object(ze.jsx)(Mt,{children:Object(ze.jsx)(wt.a,{onClick:function(){return i(!r)},expanded:r})})]})]}),Object(ze.jsx)(At,{showFooter:r,children:Object(ze.jsx)(je.p,{children:Object(ze.jsx)(Rt,{lotteryPrizeAmount:a})})})]})},Wt=oe.e.div(K||(K=Object(ie.a)(["\n  margin-top: 1em;\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n"]))),Pt=oe.e.div(W||(W=Object(ie.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n"]))),Qt=oe.e.div(P||(P=Object(ie.a)(["\n  margin-top: 1em;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n"]))),Vt=oe.e.div(Q||(Q=Object(ie.a)(["\n  text-align: center;\n  align-items: center;\n"]))),Ut=oe.e.div(V||(V=Object(ie.a)(["\n  text-align: center;\n  align-items: center;\n  padding-left: 2px;\n  padding-right: 2px;\n"]))),qt=oe.e.div(U||(U=Object(ie.a)(["\n  padding: 10px;\n  border-radius: 12px;\n  background: linear-gradient(180deg, #54dade 0%, #24c7d6 76.22%);\n  color: white;\n  font-size: 20px;\n  font-weight: 900;\n  margin: 10px;\n  margin-bottom: 7px;\n  width: 40px;\n\n  @media (min-width: 768px) {\n    font-size: 40px;\n    margin: 20px;\n    width: 60px;\n  }\n"]))),Ht=oe.e.div(q||(q=Object(ie.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n"]))),Jt=oe.e.div(H||(H=Object(ie.a)(["\n  color: ",";\n  font-size: 24px;\n  width: 50vw;\n  text-align: center;\n  font-weight: 1000;\n"])),(function(e){return e.theme.colors.secondary})),Yt=oe.e.div(J||(J=Object(ie.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),Zt=function(){var e=Object(me.c)().account,t=Object(pe.e)(),n=Te(),c=Object(et.a)(),r=Math.round(Object(pe.b)(n.mostRecentLotteryNumber>-1?4:-1)),i=Math.round(Object(pe.b)(n.mostRecentLotteryNumber>-1?3:-1)),a=Math.round(Object(pe.b)(n.mostRecentLotteryNumber>-1?2:-1)),s=Object(de.a)();return Object(ze.jsx)(je.n,{children:e&&null!==n.data&&n.mostRecentLotteryNumber>-1&&Object(ze.jsx)(je.o,{children:Object(ze.jsxs)(Yt,{children:[Object(ze.jsxs)(Ht,{children:[Object(ze.jsx)(Jt,{children:e&&c?"".concat(s(570,"Winning Numbers This Round")):s(440,"Latest Winning Numbers")}),Object(ze.jsx)("br",{})]}),Object(ze.jsx)(Wt,{children:t.map((function(e,t){return Object(ze.jsx)(qt,{style:{borderRadius:"45px"},children:Object(ze.jsx)(Vt,{children:e})},t)}))}),Object(ze.jsxs)(Qt,{children:[Object(ze.jsxs)(Pt,{children:[Object(ze.jsx)(Ut,{children:s(442,"Tickets matching 4 numbers:")}),Object(ze.jsx)(Ut,{children:Object(ze.jsx)("strong",{children:r})})]}),Object(ze.jsxs)(Pt,{children:[Object(ze.jsx)(Ut,{children:s(444,"Tickets matching 3 numbers:")}),Object(ze.jsx)(Ut,{children:Object(ze.jsx)("strong",{children:i})})]}),Object(ze.jsxs)(Pt,{children:[Object(ze.jsx)(Ut,{children:s(446,"Tickets matching 2 numbers:")}),Object(ze.jsx)(Ut,{children:Object(ze.jsx)("strong",{children:a})})]})]})]})})})},Gt=Object(oe.e)(je.g)(Y||(Y=Object(ie.a)(["\n  align-items: start;\n  margin-bottom: 32px;\n\n  & > div {\n    grid-column: span 6;\n  }\n\n  "," {\n    & > div {\n      grid-column: span 12;\n    }\n  }\n\n  "," {\n    & > div {\n      grid-column: span 6;\n    }\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.lg})),$t=oe.e.div(Z||(Z=Object(ie.a)(["\n  display: flex;\n  flex-direction: ",";\n"])),(function(e){return e.isAWin?"column":"column-reverse"})),_t=function(){var e=Object(me.c)().account,t=Object(pe.c)(),n=t.claimAmount,c=t.setLastUpdated,r=Object(ge.c)(n)>0,i=Object(ae.useCallback)((function(){c()}),[c]);return Object(ze.jsxs)(ze.Fragment,{children:[Object(ze.jsxs)(Gt,{children:[Object(ze.jsx)(Kt,{}),Object(ze.jsx)($t,{isAWin:r,children:e?Object(ze.jsxs)(ze.Fragment,{children:[Object(ze.jsx)(Je,{isAWin:r,onSuccess:i}),Object(ze.jsx)(vt,{isSecondCard:r})]}):Object(ze.jsx)(Xe,{})})]}),Object(ze.jsx)(Zt,{})]})},Xt=n(12),en=oe.e.div(G||(G=Object(ie.a)(["\n  margin-bottom: 24px;\n"]))),tn=oe.e.div($||($=Object(ie.a)(["\n  position: relative;\n"]))),nn=oe.e.div(_||(_=Object(ie.a)(["\n  input::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  /* Firefox */\n  input[type='number'] {\n    -moz-appearance: textfield;\n  }\n"]))),cn=oe.e.div(X||(X=Object(ie.a)(["\n  position: absolute;\n  right: 8px;\n  top: 50%;\n  transform: translate(0%, -50%);\n  width: auto;\n"]))),rn=function(e){var t=e.initialLotteryNumber,n=e.onSubmit,c=Object(ae.useState)(t),r=Object(re.a)(c,2),i=r[0],a=r[1],s=Object(ae.useState)(!1),o=Object(re.a)(s,2),j=o[0],l=o[1],b=Object(de.a)();return Object(ze.jsxs)(en,{children:[Object(ze.jsx)(je.R,{children:b(742,"Select lottery number:")}),Object(ze.jsx)("form",{onSubmit:function(e){e.preventDefault(),n(i)},children:Object(ze.jsxs)(tn,{children:[Object(ze.jsx)(nn,{children:Object(ze.jsx)(je.E,{value:i,type:"number",inputMode:"numeric",min:"0",isWarning:j,max:t,onChange:function(e){if(e.currentTarget.value){var n=parseInt(e.currentTarget.value,10);l(n>t),a(n)}else a(t)}})}),Object(ze.jsx)(cn,{children:Object(ze.jsx)(je.j,{type:"submit",scale:"sm",disabled:j,children:b(744,"Search")})})]})})]})},an=function(e){var t=e.error;return Object(ze.jsx)(je.R,{p:"24px",children:t.message})},sn=n(140),on=oe.e.div(ee||(ee=Object(ie.a)(["\n  margin-right: 16px;\n  svg {\n    width: 48px;\n    height: 48px;\n  }\n"]))),jn=function(e){var t=e.valueToDisplay,n=e.children,c=e.Icon,r=e.image,i=Object(sn.a)(e,["valueToDisplay","children","Icon","image"]);return Object(ze.jsxs)(je.y,Object(Xt.a)(Object(Xt.a)({},i),{},{children:[c&&Object(ze.jsxs)(on,{children:["ticket"===r&&Object(ze.jsx)("img",{src:"/images/lottery-ticket-mini.png",width:"48",height:"48",alt:"Lottery Ticket"}),"token"===r&&Object(ze.jsx)("img",{src:"/images/OBERON-moon.png",width:"48",height:"48",alt:"OBERON"})]}),Object(ze.jsxs)(je.y,{flexDirection:"column",children:[Object(ze.jsx)(je.R,{fontSize:"14px",color:"textSubtle",children:n}),Object(ze.jsx)(je.z,{size:"lg",children:t})]})]}))};jn.defaultProps={valueToDisplay:"",Icon:function(){return Object(ze.jsx)("div",{})},children:""};var ln,bn,dn,un,xn,On,hn,mn,pn,gn,fn=jn,yn=oe.e.div(ln||(ln=Object(ie.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  padding-top: 24px;\n\n  & > div {\n    flex: 1;\n    width: 100%;\n  }\n"]))),vn=Object(oe.e)(je.G)(bn||(bn=Object(ie.a)(["\n  align-items: center;\n  display: flex;\n  height: 48px;\n  justify-content: center;\n  text-decoration: none;\n  width: 100%;\n"]))),wn=function(e){var t=e.contractLink,n=e.lotteryNumber,c=Object(de.a)(),r=Object(pe.a)(n),i=r.length,a=Object(je.bb)(Object(ze.jsx)(Ie,{myTicketNumbers:r,from:"buy"})),s=Object(re.a)(a,1)[0];return Object(me.c)().account?Object(ze.jsxs)(yn,{children:[Object(ze.jsx)(je.j,{disabled:0===i,onClick:s,width:"100%",children:c(432,"View your tickets")}),Object(ze.jsx)(vn,{href:t,children:c(356,"View Contract")})]}):Object(ze.jsx)(yn,{children:Object(ze.jsx)(Ye.a,{})})},kn=function(e){if(!e)return{};var t=new Date(parseInt(e)),n=t.toDateString();return{hours:t.getUTCHours(),monthAndDay:n.split(" ").splice(1,2).join(" ")}},Sn=oe.e.div(dn||(dn=Object(ie.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n"]))),Tn=function(e){var t=e.timeValue,n=kn(t),c=n.monthAndDay,r=n.hours;return Object(ze.jsx)(Sn,{children:Object(ze.jsxs)(je.R,{fontSize:"14px",children:[c,", ",r,":00 UTC"]})})},zn=oe.e.div(un||(un=Object(ie.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),Nn=Object(oe.e)(fn)(xn||(xn=Object(ie.a)(["\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.spacing[4]})),Ln=function(e){var t=e.data,n=Object(de.a)(),c=t.contractLink,r=t.jackpotTicket,i=t.lotteryDate,a=t.lotteryNumber,s=t.lotteryNumbers,o=t.match2Ticket,j=t.match3Ticket,l=t.poolSize;return!t.error&&t&&Object(ze.jsxs)(ze.Fragment,{children:[Object(ze.jsx)(je.o,{children:Object(ze.jsxs)(zn,{children:[Object(ze.jsx)(Tn,{timeValue:i}),Object(ze.jsxs)(je.z,{size:"md",mb:"24px",children:["Round #",a]}),Object(ze.jsx)(Nn,{valueToDisplay:"".concat(s[0],", ").concat(s[1],", ").concat(s[2],", ").concat(s[3]),Icon:je.S,image:"ticket",children:n(999,"Winning numbers")}),Object(ze.jsx)(fn,{valueToDisplay:n(999,"".concat(l.toLocaleString()," OBERON")),Icon:je.M,image:"token",children:n(999,"Total prizes")})]})}),Object(ze.jsxs)(je.p,{children:[Object(ze.jsx)(Rt,{lotteryPrizeAmount:l,jackpotMatches:r,twoTicketMatches:o,threeTicketMatches:j,pastDraw:!0}),Object(ze.jsx)(wn,{contractLink:c,lotteryNumber:a})]})]})},Dn=function(e){var t=e.error,n=e.data;return Object(ze.jsx)(je.n,{children:t.message?Object(ze.jsx)(an,{error:t}):Object(ze.jsx)(Ln,{data:n})})},Cn=oe.e.div(On||(On=Object(ie.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Rn=Object(oe.e)(je.o)(hn||(hn=Object(ie.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 552px; // height of final card\n"]))),In=function(){var e=Object(ae.useState)({roundData:null,error:{message:null,type:null},isInitialized:!1,isLoading:!0}),t=Object(re.a)(e,2),n=t[0],c=t[1],r=Te(),i=r.data,a=r.mostRecentLotteryNumber,s=Object(de.a)(),o=n.roundData,j=n.error,l=n.isInitialized,b=n.isLoading;Object(ae.useEffect)((function(){i&&c((function(e){return Object(Xt.a)(Object(Xt.a)({},e),{},{isLoading:!1,isInitialized:!0,roundData:i})}))}),[i,c]);var d=function(){var e=Object(ce.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c((function(e){return Object(Xt.a)(Object(Xt.a)({},e),{},{isLoading:!0})})),Se(t).then((function(e){e.error?c((function(e){return Object(Xt.a)(Object(Xt.a)({},e),{},{error:{message:s(1076,"The lottery number you provided does not exist"),type:"out of range"},isLoading:!1,isInitialized:!0})})):c((function(t){return Object(Xt.a)(Object(Xt.a)({},t),{},{error:{message:null,type:null},roundData:e,isLoading:!1,isInitialized:!0})}))})).catch((function(){c((function(e){return Object(Xt.a)(Object(Xt.a)({},e),{},{error:{message:s(1078,"Error fetching data"),type:"api"},isLoading:!1,isInitialized:!0})}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ze.jsxs)(Cn,{children:[a>-1&&Object(ze.jsx)(rn,{initialLotteryNumber:a,onSubmit:d}),!l||b?Object(ze.jsx)(je.n,{children:Object(ze.jsx)(Rn,{children:a>-1?Object(ze.jsx)(Le,{}):"There are no past draws yet"})}):Object(ze.jsx)(Dn,{error:j,data:o})]})},Mn=Object(oe.e)(je.g)(mn||(mn=Object(ie.a)(["\n  align-items: start;\n  margin-bottom: 32px;\n\n  & > div {\n    grid-column: 2/3;\n  }\n\n  "," {\n    & > div {\n      grid-column: span 12;\n    }\n  }\n\n  "," {\n    & > div {\n      grid-column: 2/3;\n    }\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.lg})),Bn=function(){return Object(ze.jsx)(Mn,{style:{gridTemplateColumns:"repeat(3,1fr)"},children:Object(ze.jsx)(In,{})})},En=oe.e.div(pn||(pn=Object(ie.a)(["\n    font-size: 20px;\n    text-align: center;\n    padding: 1em;\n    margin: 15px auto;\n    background: ",";\n    color: ",";\n    border-radius: 35px;\n    a {\n        color: ","\n    }\n"])),(function(e){return e.theme.isDark?"linear-gradient(90deg, rgba(109,89,122,1) 80%, rgba(0,0,0,0) 100%)":"linear-gradient(90deg, rgba(31,199,212,1) 50%, rgba(255,255,255,0) 100%)"}),(function(e){return e.theme.isDark?e.theme.colors.text:"#FFF"}),(function(e){return e.theme.isDark?e.theme.colors.warning:e.theme.colors.text})),Fn=oe.e.div(gn||(gn=Object(ie.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 32px;\n  @media only screen and (max-width: 369px) {\n    margin-bottom: 16px;\n  }\n  @media only screen and (max-width: 575px) {\n    margin-top: 8px;\n    margin-bottom: 24px;\n  }\n  @media only screen and (max-width: 967px) {\n    margin-bottom: 24px;\n  }\n}"]))),An=function(){var e=(new Date).getTime()/1e3>parseInt(he.a.OBERON.projectLink),t=Object(ue.d)(),n=Object(de.a)(),c=Object(ae.useState)(0),r=Object(re.a)(c,2),i=r[0],a=r[1],s=Object(ae.useState)([]),o=Object(re.a)(s,1)[0],j=Object(ae.useState)(!1),l=Object(re.a)(j,1)[0],b=Object(ae.useState)(0),d=Object(re.a)(b,2),u=d[0],x=d[1],O=Object(ae.useState)(1),h=Object(re.a)(O,2),m=h[0],p=h[1];Object(ae.useEffect)((function(){t&&function(){var e=Object(ce.a)(ne.a.mark((function e(){var n,c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(be.a)(t);case 2:n=e.sent,c=n-1,x(n),p(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]);return Object(ze.jsxs)(ze.Fragment,{children:[Object(ze.jsx)(Oe.a,{children:Object(ze.jsx)(je.z,{scale:"lg",color:"text",style:{textAlign:"center"},children:"Lottery"})}),Object(ze.jsxs)(xe.a,{style:{paddingTop:"1em"},children:[!e&&Object(ze.jsxs)(En,{style:{marginBottom:"1.2em"},children:["Lottery starts ",Object(ze.jsx)("a",{href:"https://www.timeanddate.com/countdown/generic?iso=".concat(new Date(1e3*parseInt(he.a.OBERON.projectLink)).toISOString(),"&font=sanserif&p0=1440&csz=1&msg=Bridge starts"),target:"_blank",rel:"noreferrer",children:new Date(1e3*parseInt(he.a.OBERON.projectLink)).toUTCString()})]}),Object(ze.jsx)(Fn,{children:Object(ze.jsxs)(je.k,{activeIndex:i,onItemClick:function(e){a(e)},scale:"sm",variant:"subtle",children:[Object(ze.jsx)(je.l,{children:n(716,"Next draw")}),Object(ze.jsx)(je.l,{children:n(718,"Past draws")})]})}),Object(ze.jsx)(le.Provider,{value:{historyError:l,historyData:o,mostRecentLotteryNumber:m,currentLotteryNumber:u},children:0===i?Object(ze.jsx)(_t,{}):Object(ze.jsx)(Bn,{})})]})]})}}}]);